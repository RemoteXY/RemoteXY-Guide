# Взаимодействие с графическим интерфейсом

Этот документ находится в разработке.

Функция `loop()` является основной функцией где размещается код выполнения вашей задачи, так же как это делается в обычном скетче Arduino IDE. Так же она должна содержать команду вызова обработчика библиотеки `RemoteXY.h` . 

```
void loop() 
{ 
  RemoteXY_Handler ();

  // TODO you loop code
}
```

### Программирование без задержек

Функция `RemoteXY_Handler ();` должна вызываться регулярно и достаточно часто, в каждом цикле `loop ()`. 

От мобильного приложения поступают различные данные. Эти данные сохраняются в буферы, которые есть у каждого коммуникационного канала связи. Когда вы вызываете обработчик `RemoteXY_Handler ();` происходит считывание данных из буферов и их расшифровка. Если обработчик не будет вызываться своевременно, то буферы будут переполняться и данные будут потеряны. Это приведет к сбою связи. Важно не использовать длительные задержки между вызовом обработчика. 

Если какая либо часть кода выполняется достаточно длительное время, предусмотрите вызов обработчика прямо из нее.

Замените все вызовы функции `delay ()` на вызов функции `RemoteXY_delay()` . Эта функция содержит в себе периодический вызов обработчика  `RemoteXY_Handler ();` пока длится задержка в выполнении кода.

Попробуйте изменить ваш код таким образом что бы вам не нужно было использовать функцию  `delay ()` совсем. Обычно это делается с использованием текущего времени контроллера и подсчета интервалов времени вызывая функцию`millis ()`. Так ваш код станет более отзывчивым. Если ваш код находится в паузе `delay ()` он не может реагировать на какие либо события. Вы так же можете пропустить действие пользователя в графическом интерфейсе и обработать его не своевременно.

